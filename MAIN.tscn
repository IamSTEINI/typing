[gd_scene load_steps=12 format=3 uid="uid://clf55rbmtt3co"]

[ext_resource type="PackedScene" uid="uid://nll2mcme07mg" path="res://ROOM.tscn" id="1_0llpg"]
[ext_resource type="Script" uid="uid://bqew2d2ijq373" path="res://player.gd" id="2_a1u8q"]
[ext_resource type="Shader" uid="uid://jc8troccmnq1" path="res://PIXEL.gdshader" id="3_78rud"]
[ext_resource type="PackedScene" uid="uid://dmsoy4ymkly2o" path="res://notification.tscn" id="3_rf5wo"]
[ext_resource type="AudioStream" uid="uid://bmp1jmvlowcag" path="res://notification.mp3" id="4_ao1bj"]
[ext_resource type="PackedScene" uid="uid://bnnnjuok7qohh" path="res://message_received.tscn" id="4_kgeht"]
[ext_resource type="PackedScene" uid="uid://b8kiyi5airywn" path="res://message_sent.tscn" id="5_iyt76"]

[sub_resource type="Environment" id="Environment_a1u8q"]
background_mode = 1
background_color = Color(0.21716759, 0.19437513, 0.2706562, 1)
background_energy_multiplier = 1.75
ambient_light_energy = 0.65
reflected_light_source = 1
tonemap_exposure = 0.19
tonemap_white = 9.73

[sub_resource type="ShaderMaterial" id="ShaderMaterial_78rud"]
shader = ExtResource("3_78rud")
shader_parameter/pixel_size = 6

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_78rud"]
bg_color = Color(1, 1, 1, 1)
border_width_left = 10
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rf5wo"]
bg_color = Color(0, 0, 0, 1)
corner_radius_top_left = 20
corner_radius_top_right = 20
corner_radius_bottom_right = 20
corner_radius_bottom_left = 20

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_a1u8q")

[node name="PLAYER" type="Camera3D" parent="."]
transform = Transform3D(-0.9688128, 0, 0.2477938, 0, 1, 0, -0.2477938, 0, -0.9688128, 0.934911, 0.51883656, -1.0505453)
fov = 70.1
near = 0.001
script = ExtResource("2_a1u8q")
notification_scene = ExtResource("3_rf5wo")
message_sent = ExtResource("5_iyt76")
message_received = ExtResource("4_kgeht")

[node name="EFFECT" type="CanvasLayer" parent="PLAYER"]

[node name="ColorRect" type="ColorRect" parent="PLAYER/EFFECT"]
material = SubResource("ShaderMaterial_78rud")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Phone" type="CanvasLayer" parent="PLAYER"]
visible = false

[node name="BG" type="Panel" parent="PLAYER/Phone"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -909.0
offset_top = -491.5
offset_right = -330.0
offset_bottom = 491.5
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_78rud")

[node name="Messages" type="ScrollContainer" parent="PLAYER/Phone/BG"]
layout_mode = 0
offset_left = 15.0
offset_top = 13.5
offset_right = 564.0
offset_bottom = 963.5

[node name="Messages" type="GridContainer" parent="PLAYER/Phone/BG/Messages"]
layout_mode = 2

[node name="Panel" type="Panel" parent="PLAYER/Phone/BG"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -125.0
offset_top = -37.5
offset_right = 125.0
offset_bottom = -27.5
grow_horizontal = 2
grow_vertical = 0
theme_override_styles/panel = SubResource("StyleBoxFlat_rf5wo")

[node name="UI" type="CanvasLayer" parent="PLAYER"]

[node name="GridContainer" type="GridContainer" parent="PLAYER/UI"]
offset_left = 1720.0
offset_top = 860.0
offset_right = 1920.0
offset_bottom = 910.0

[node name="Phone" type="RichTextLabel" parent="PLAYER/UI/GridContainer"]
custom_minimum_size = Vector2(200, 50)
layout_mode = 2
text = "Show/Hide Phone [M]"
scroll_active = false
autowrap_mode = 0
horizontal_alignment = 1
vertical_alignment = 1

[node name="Notifications" type="GridContainer" parent="PLAYER/UI"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -285.0
offset_right = 285.0
offset_bottom = 80.0
grow_horizontal = 2

[node name="notify" type="AudioStreamPlayer2D" parent="PLAYER"]
stream = ExtResource("4_ao1bj")
volume_db = 10.0

[node name="room" parent="." instance=ExtResource("1_0llpg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.058997154, 0, 0.69021106)

[node name="OmniLight3D" type="OmniLight3D" parent="room"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.23636882, 1.8522654, -0.24789184)
shadow_enabled = true
shadow_bias = 0.0
shadow_normal_bias = 3.77
shadow_reverse_cull_face = true
shadow_blur = 0.0
distance_fade_enabled = true
distance_fade_begin = 676.04
distance_fade_shadow = 44.35
distance_fade_length = 0.0
omni_range = 2.4232802
