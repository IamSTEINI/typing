[gd_scene load_steps=19 format=3 uid="uid://clf55rbmtt3co"]

[ext_resource type="PackedScene" uid="uid://nll2mcme07mg" path="res://ROOM.tscn" id="1_0llpg"]
[ext_resource type="Script" uid="uid://bqew2d2ijq373" path="res://player.gd" id="2_a1u8q"]
[ext_resource type="Shader" uid="uid://jc8troccmnq1" path="res://PIXEL.gdshader" id="3_78rud"]
[ext_resource type="PackedScene" uid="uid://dmsoy4ymkly2o" path="res://notification.tscn" id="3_rf5wo"]
[ext_resource type="AudioStream" uid="uid://bmp1jmvlowcag" path="res://notification.mp3" id="4_ao1bj"]
[ext_resource type="PackedScene" uid="uid://bnnnjuok7qohh" path="res://message_received.tscn" id="4_kgeht"]
[ext_resource type="PackedScene" uid="uid://b8kiyi5airywn" path="res://message_sent.tscn" id="5_iyt76"]
[ext_resource type="Shader" uid="uid://dedmm4lhfd033" path="res://Vignette.gdshader" id="6_xm6fk"]
[ext_resource type="AudioStream" uid="uid://pq4rcve5ripu" path="res://send.mp3" id="7_iyt76"]
[ext_resource type="AudioStream" uid="uid://buh2w14foeml3" path="res://typing.mp3" id="9_s83dy"]
[ext_resource type="AudioStream" uid="uid://db81nrnb3advy" path="res://knock.mp3" id="10_5nrqa"]
[ext_resource type="AudioStream" uid="uid://b8vtjlnngcuph" path="res://ambience.mp3" id="11_7ct82"]

[sub_resource type="Environment" id="Environment_a1u8q"]
background_mode = 1
background_color = Color(0.21716759, 0.19437513, 0.2706562, 1)
background_energy_multiplier = 1.75
ambient_light_energy = 0.65
reflected_light_source = 1
tonemap_exposure = 0.19
tonemap_white = 9.73

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5nrqa"]
shader = ExtResource("6_xm6fk")
shader_parameter/alpha = 0.11
shader_parameter/inner_radius = 0.875
shader_parameter/outer_radius = 0.895

[sub_resource type="ShaderMaterial" id="ShaderMaterial_78rud"]
shader = ExtResource("3_78rud")
shader_parameter/pixel_size = 6

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_78rud"]
bg_color = Color(1, 1, 1, 1)
border_width_left = 10
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rf5wo"]
bg_color = Color(0, 0, 0, 1)
corner_radius_top_left = 20
corner_radius_top_right = 20
corner_radius_bottom_right = 20
corner_radius_bottom_left = 20

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7ct82"]
bg_color = Color(0, 0, 0, 0.47058824)
expand_margin_left = 5.0
expand_margin_top = 5.0
expand_margin_right = 5.0
expand_margin_bottom = 5.0

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_a1u8q")

[node name="PLAYER" type="Camera3D" parent="." node_paths=PackedStringArray("light", "knock")]
transform = Transform3D(-0.9688128, 0, 0.2477938, 0, 1, 0, -0.2477938, 0, -0.9688128, 0.934911, 0.51883656, -1.0505453)
fov = 70.1
near = 0.001
script = ExtResource("2_a1u8q")
notification_scene = ExtResource("3_rf5wo")
message_sent = ExtResource("5_iyt76")
message_received = ExtResource("4_kgeht")
light = NodePath("../room/OmniLight3D")
knock = NodePath("../Knock")

[node name="EFFECT" type="CanvasLayer" parent="PLAYER"]
layer = 0

[node name="ColorRect2" type="ColorRect" parent="PLAYER/EFFECT"]
material = SubResource("ShaderMaterial_5nrqa")
offset_right = 1919.0
offset_bottom = 1082.0

[node name="ColorRect" type="ColorRect" parent="PLAYER/EFFECT"]
material = SubResource("ShaderMaterial_78rud")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Phone" type="CanvasLayer" parent="PLAYER"]

[node name="BG" type="Panel" parent="PLAYER/Phone"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -909.0
offset_top = -491.5
offset_right = -330.0
offset_bottom = 491.5
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_78rud")

[node name="Messages" type="ScrollContainer" parent="PLAYER/Phone/BG"]
layout_mode = 0
offset_left = 15.0
offset_top = 13.5
offset_right = 564.0
offset_bottom = 963.5

[node name="Messages" type="GridContainer" parent="PLAYER/Phone/BG/Messages"]
layout_mode = 2

[node name="Panel" type="Panel" parent="PLAYER/Phone/BG"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -125.0
offset_top = -37.5
offset_right = 125.0
offset_bottom = -27.5
grow_horizontal = 2
grow_vertical = 0
theme_override_styles/panel = SubResource("StyleBoxFlat_rf5wo")

[node name="UI" type="CanvasLayer" parent="PLAYER"]

[node name="GridContainer" type="GridContainer" parent="PLAYER/UI"]
offset_left = 1720.0
offset_top = 860.0
offset_right = 1920.0
offset_bottom = 910.0

[node name="Phone" type="RichTextLabel" parent="PLAYER/UI/GridContainer"]
custom_minimum_size = Vector2(200, 50)
layout_mode = 2
text = "Show/Hide Phone [M]"
scroll_active = false
autowrap_mode = 0
horizontal_alignment = 1
vertical_alignment = 1

[node name="Send" type="RichTextLabel" parent="PLAYER/UI/GridContainer"]
custom_minimum_size = Vector2(200, 50)
layout_mode = 2
text = "Reply to message [Space]"
scroll_active = false
autowrap_mode = 0
horizontal_alignment = 1
vertical_alignment = 1

[node name="Notifications" type="GridContainer" parent="PLAYER/UI"]
z_index = 10
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -285.0
offset_right = 285.0
offset_bottom = 80.0
grow_horizontal = 2

[node name="TypeWriter" type="Label" parent="PLAYER/UI"]
texture_filter = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -448.0
offset_top = -135.0
offset_right = 448.0
offset_bottom = -107.0
grow_horizontal = 2
grow_vertical = 0
theme_override_colors/font_color = Color(1, 1, 0, 1)
theme_override_font_sizes/font_size = 20
theme_override_styles/normal = SubResource("StyleBoxFlat_7ct82")
text = "A weird night today..."

[node name="notify" type="AudioStreamPlayer2D" parent="PLAYER"]
stream = ExtResource("4_ao1bj")
volume_db = 13.0

[node name="send" type="AudioStreamPlayer2D" parent="PLAYER"]
stream = ExtResource("7_iyt76")
volume_db = 4.0
pitch_scale = 0.93

[node name="typewriter" type="AudioStreamPlayer2D" parent="PLAYER"]
stream = ExtResource("9_s83dy")
volume_db = 8.805

[node name="room" parent="." instance=ExtResource("1_0llpg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.058997154, 0, 0.69021106)

[node name="OmniLight3D" type="OmniLight3D" parent="room"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.002262354, 1.8493515, -0.0034851432)
shadow_enabled = true
shadow_bias = 0.0
shadow_normal_bias = 3.77
shadow_reverse_cull_face = true
shadow_blur = 0.0
distance_fade_enabled = true
distance_fade_begin = 676.04
distance_fade_shadow = 44.35
distance_fade_length = 0.0
omni_range = 2.4232802

[node name="Knock" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.9881883, 0.15324457, 0, -0.15324457, 0.9881883, -0.67781824, 0.7443096, 2.9756072)
stream = ExtResource("10_5nrqa")
volume_db = 15.0

[node name="Ambience" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.9881883, 0.15324457, 0, -0.15324457, 0.9881883, 0.566521, 0.7443096, -1.7592236)
stream = ExtResource("11_7ct82")
volume_db = 1.0
autoplay = true
parameters/looping = true
